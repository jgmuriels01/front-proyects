<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/shop.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modules/shop.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Product } from "./product.js";

/**
 * Filter a shop by a given rarity
 * @param {String} rarity rarity to filter
 * @param {Product[]} shop list to be filtered
 * @returns shop with products which match the ratity
 */
function filterShop(rarity, shop) {
    return shop.filter(product => product.rarity === rarity);
}

/**
 * Find a product in a list by its id
 * @param {Product[]} shop collection of Product
 * @param {int} id id of Product
 * @returns product
 */
export function findProduct(shop, id) {
    return shop.find(product => product.id === id);
}

/**
 * Apply a discount to all products of a collection
 * @param {Product[]} shop collection of Product
 * @param {String} rarity rarity to filter Product
 * @param {int} discount discount to apply to Product price
 */
export function applyDiscount(shop, rarity, discount) {
    filterShop(rarity, shop).forEach(product => product.discount(discount))
}

/**
 * Show a show with all its products in a node
 * @param {HTMLElement} node node where to append shop
 * @param {Product[]} shop collection of Product
 */
export function showShop(node, shop) {
    shop.forEach(product => {
        /* main node */
        let productElement = document.createElement('div')
        productElement.id = product.id
        /* sub-main node layer */
        let imgElement = document.createElement('img')
        let statsElement = document.createElement('div')
        let priceElement = document.createElement('div')
        let comprarElement = document.createElement('button')
        /* sub-main node layer FILL */
        product.showProduct(imgElement)
        switch (product.type) {
                case "Weapon":
                    statsElement.innerText = `Ataque: ${(product.stat)}`
                    break;
                case "Armor":
                    statsElement.innerText = `Defensa: ${(product.stat)}`
                    break;
                case "Potion":
                    statsElement.innerText = `Vida: ${(product.stat)}`
                    break;
            }
        priceElement.innerText = `${(product.price).toFixed(2)}$`
        comprarElement.innerText = 'Comprar'
        /* sub-main node layer APPEND */
        productElement.append(imgElement)
        productElement.append(statsElement)
        productElement.append(priceElement)
        productElement.append(comprarElement)
        /* main node append */
        node.append(productElement)
    });
}

/**
 * Choose a random rarity
 * @returns random rarity
 */
export function randomRarity() {
    let rarities = ['Common', 'Rare', 'Legendary']
    let random = Math.floor(Math.random() * rarities.length)
    return rarities[random]
}

/**
 * Provide a random int between 5 and 95
 * @returns random int
 */
export function randomDiscount() {
    let random = Math.floor(Math.random() * (95 - 5 + 1)) + 5
    return random
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Enemy.html">Enemy</a></li><li><a href="FinalBoss.html">FinalBoss</a></li><li><a href="Player.html">Player</a></li><li><a href="Product.html">Product</a></li></ul><h3>Global</h3><ul><li><a href="global.html#applyDiscount">applyDiscount</a></li><li><a href="global.html#battle">battle</a></li><li><a href="global.html#categorizePlayer">categorizePlayer</a></li><li><a href="global.html#filterShop">filterShop</a></li><li><a href="global.html#findProduct">findProduct</a></li><li><a href="global.html#randomDiscount">randomDiscount</a></li><li><a href="global.html#randomEnemy">randomEnemy</a></li><li><a href="global.html#randomRarity">randomRarity</a></li><li><a href="global.html#reset">reset</a></li><li><a href="global.html#showBattle">showBattle</a></li><li><a href="global.html#showRanking">showRanking</a></li><li><a href="global.html#showScene">showScene</a></li><li><a href="global.html#showShop">showShop</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Sat Nov 29 2025 18:11:21 GMT+0100 (hora est√°ndar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
